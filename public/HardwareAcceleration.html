<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Please enable Hardware acceleration</title>
  </head>
  <body>
    <h1 style="text-align: center;" id="title1"></h1>
    <div id="div1"></div>
    <footer>
      <div id="fpsCount"></div>
      <dib style="font-size: 9px;">Redirected by: GraphicalModeSetter.jsx</dib>
    </footer>
    <script>
      const availableLanguages = ["fr-FR"]
      const LanguageText = {
        "fr-FR": {
          "text": "Ceci est un site web en 3D et il semble que votre système ait des difficultés à l'ouvrir. Soit l'accélération matérielle est  désactivée, soit votre système n'est pas assez puissant Veuillez activer l'accélération matérielle dans votre navigateur."
        },
        "en-US": {
          "text": "This is a 3D website and it seems that your system is having trouble opening it, either hardware acceleration is not enabled in your browser, or your system is not fast enough to open it, Please enable Hardware acceleration in your browser."
        }
      }

      var browserName = (function (agent) {        switch (true) {
            case agent.indexOf("edge") > -1: return "MS Edge";
            case agent.indexOf("edg/") > -1: return "Edge ( chromium based)";
            case agent.indexOf("opr") > -1 && !!window.opr: return "Opera";
            case agent.indexOf("chrome") > -1 && !!window.chrome: return "Chrome";
            case agent.indexOf("trident") > -1: return "MS IE";
            case agent.indexOf("firefox") > -1: return "Mozilla Firefox";
            case agent.indexOf("safari") > -1: return "Safari";
            default: return "other";
        }
    })(window.navigator.userAgent.toLowerCase());

    var usrlang = availableLanguages.includes(navigator.language || navigator.userLanguage) ? navigator.language || navigator.userLanguage:"en-US";
    const img = document.createElement("img");
    const element = document.getElementById("div1");
    const title1Text = document.getElementById("title1");
    const title2Text = document.getElementById("fpsCount");
    const textNode = document.createTextNode(LanguageText[usrlang].text);
    const lastFps = document.createTextNode("Last recorded FPS: " + new URLSearchParams(window.location.search).get('fps'))

    img.src = "/textures/HardwareAcceleration"+browserName+usrlang+".png";
    img.style = "width: auto height:auto;";
    element.appendChild(img);
    title1Text.appendChild(textNode);
    title2Text.appendChild(lastFps);
    </script>
  </body>
</html>
